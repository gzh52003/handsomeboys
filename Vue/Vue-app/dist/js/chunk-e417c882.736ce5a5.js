(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e417c882"],{"38d5":function(e,t,n){"use strict";n("68ef")},6211:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("密码重置")]),n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"username",label:"用户名",placeholder:"用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}}),n("van-field",{attrs:{type:"password",name:"oldpass",label:"原密码",placeholder:"原密码"},model:{value:e.ruleForm.oldpass,callback:function(t){e.$set(e.ruleForm,"oldpass",t)},expression:"ruleForm.oldpass"}}),n("van-field",{attrs:{name:"newPass",type:"password",label:"新密码",placeholder:"新密码"},model:{value:e.ruleForm.newPass,callback:function(t){e.$set(e.ruleForm,"newPass",t)},expression:"ruleForm.newPass"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[],i=(n("96cf"),n("1da1")),s=(n("38d5"),n("772a")),o=n("2b0e");o["a"].use(s["a"]);var l={name:"repassword",data:function(){return{ruleForm:{username:"",oldpass:"",newPass:""}}},methods:{onSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.ruleForm.newPass,n.next=3,t.$request.post("/log/",{username:e.username,oldpass:e.oldpass});case 3:if(a=n.sent,i=a.data,1!==i.code||""===r){n.next=14;break}return n.next=8,t.$request.put("/log/",{username:e.username,newPass:e.newPass});case 8:s=n.sent,o=s.data,console.log(o.code),1===o.code?(alert("恭喜你修改成功!"),t.$router.push("/login")):alert("修改失败!"),n.next=15;break;case 14:alert("用户名或密码不存在!");case 15:case"end":return n.stop()}}),n)})))()}}},u=l,c=n("2877"),d=Object(c["a"])(u,r,a,!1,null,null,null);t["default"]=d.exports},"772a":function(e,t,n){"use strict";var r=n("d282"),a=n("db85"),i=Object(r["a"])("form"),s=i[0],o=i[1];t["a"]=s({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var e=this;return new Promise((function(t,n){var r=[];e.fields.reduce((function(e,t){return e.then((function(){if(!r.length)return t.validate().then((function(e){e&&r.push(e)}))}))}),Promise.resolve()).then((function(){r.length?n(r):t()}))}))},validateAll:function(){var e=this;return new Promise((function(t,n){Promise.all(e.fields.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?n(e):t()}))}))},validate:function(e){return e?this.validateField(e):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(e){var t=this.fields.filter((function(t){return t.name===e}));return t.length?new Promise((function(e,n){t[0].validate().then((function(t){t?n(t):e()}))})):Promise.reject()},resetValidation:function(e){this.fields.forEach((function(t){e&&t.name!==e||t.resetValidation()}))},scrollToField:function(e,t){this.fields.forEach((function(n){n.name===e&&n.$el.scrollIntoView(t)}))},addField:function(e){this.fields.push(e),Object(a["a"])(this.fields,this)},removeField:function(e){this.fields=this.fields.filter((function(t){return t!==e}))},getValues:function(){return this.fields.reduce((function(e,t){return e[t.name]=t.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,t=this.getValues();this.validate().then((function(){e.$emit("submit",t)})).catch((function(n){e.$emit("failed",{values:t,errors:n}),e.scrollToError&&e.scrollToField(n[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:o(),on:{submit:this.onSubmit}},[this.slots()])}})}}]);
//# sourceMappingURL=chunk-e417c882.736ce5a5.js.map